import{aj as a,r as l,ak as t,a4 as s,I as e}from"./index-DlNOth4X.js";const o=a("indexr",(()=>{let a,e=l([]),o=l();const r=l("0:00"),u=l();let i,c=l();const n=l(!1),p=l(!1),d=l(0);e.value=localStorage.getItem("historical")?JSON.parse(localStorage.getItem("historical")):[];let y=null;return y=t(),y.autoplay=!0,y.onPlay((()=>{a=setInterval((()=>{let a=Math.floor(y.currentTime),l=a%60<10?"0"+a%60:a%60;r.value=Math.floor(a/60)+":"+l;let t=Math.floor(a/(i-1)*100)+"%";u.value=t,n.value||(d.value+=30)}),500)})),y.onStop((()=>{})),y.onPause((()=>{clearInterval(a)})),y.onEnded((()=>{a&&clearInterval(a),console.log("ass"),n.value=!0,console.log(n.value),p.value=!0})),y.onCanplay((()=>{i=parseInt(y.duration);let a=i%60<10?"0"+i%60:i%60;c.value=Math.floor(i/60)+":"+a})),s(o,(()=>{o.value&&(y.src=o.value)})),{historical:e,memo:o,innerAudioContext:y,play:p,scroll:n,rot:d,dotleft:u,curTm:r,totalTime:c}})),r=({url:a,data:l})=>new Promise(((t,s)=>{e({url:a,data:l,success:a=>{t(a.data)},fail:s})})),u=()=>r({url:"https://zyxcl.xyz/music/api/recommend/songs"}),i=()=>r({url:"https://zyxcl.xyz/music/api/toplist"}),c=a=>r({url:"https://zyxcl.xyz/music/api/playlist/detail",data:{id:a}}),n=a=>r({url:"https://zyxcl.xyz/music/api/search",data:{keywords:a}}),p=a=>r({url:"https://zyxcl.xyz/music/api/search/suggest",data:{keywords:a,type:"mobile"}}),d=a=>r({url:"https://zyxcl.xyz/music/api/song/url",data:{id:a}}),y=a=>r({url:"https://zyxcl.xyz/music/api/album",data:{id:a}});export{p as a,d as b,y as c,c as d,u as g,i as h,n as s,o as u};
