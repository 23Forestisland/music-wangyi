import{r as e,o as s,b as a,w as l,e as t,n as c,f as i,g as n,h as o,i as r,j as d,d as u,k as _,c as f,F as p,l as h,m,t as w,a as v,p as y,S as g,q as k,s as b,u as x,v as T,x as C,y as D,z as S,A as I}from"./index-_7gvRBKx.js";import{_ as j}from"./plugin-vueexport-helper.BCo6x5W8.js";import{g as U,a as A,b as F}from"./index.BF92D_ga.js";import{g as B,a as E}from"./index.C54LIhCa.js";const L=j({name:"UniDrawer",components:{keypress:{name:"Keypress",props:{disable:{type:Boolean,default:!1}},mounted(){const e={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]};document.addEventListener("keyup",(s=>{if(this.disable)return;const a=Object.keys(e).find((a=>{const l=s.key,t=e[a];return t===l||Array.isArray(t)&&t.includes(l)}));a&&setTimeout((()=>{this.$emit(a,{})}),0)}))},render:()=>{}}},emits:["change"],props:{mode:{type:String,default:""},mask:{type:Boolean,default:!0},maskClick:{type:Boolean,default:!0},width:{type:Number,default:220}},data:()=>({visibleSync:!1,showDrawer:!1,rightMode:!1,watchTimer:null,drawerWidth:220}),created(){this.drawerWidth=this.width,this.rightMode="right"===this.mode},methods:{clear(){},close(e){("mask"!==e||this.maskClick)&&this.visibleSync&&this._change("showDrawer","visibleSync",!1)},open(){this.visibleSync||this._change("visibleSync","showDrawer",!0)},_change(e,s,a){this[e]=a,this.watchTimer&&clearTimeout(this.watchTimer),this.watchTimer=setTimeout((()=>{this[s]=a,this.$emit("change",a)}),a?50:300)}}},[["render",function(u,_,f,p,h,m){const w=d,v=e("keypress");return h.visibleSync?(s(),a(w,{key:0,class:c([{"uni-drawer--visible":h.showDrawer},"uni-drawer"]),onTouchmove:o(m.clear,["stop","prevent"])},{default:l((()=>[t(w,{class:c(["uni-drawer__mask",{"uni-drawer__mask--visible":h.showDrawer&&f.mask}]),onClick:_[0]||(_[0]=e=>m.close("mask"))},null,8,["class"]),t(w,{class:c(["uni-drawer__content",{"uni-drawer--right":h.rightMode,"uni-drawer--left":!h.rightMode,"uni-drawer__content--visible":h.showDrawer}]),style:i({width:h.drawerWidth+"px"})},{default:l((()=>[n(u.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"]),t(v,{onEsc:_[1]||(_[1]=e=>m.close("mask"))})])),_:3},8,["class","onTouchmove"])):r("",!0)}],["__scopeId","data-v-0522f2c7"]]),M=j(u({__name:"podcast",setup(e){const c=_([]);(async()=>{try{const e=await U();c.value=e.djRadios}catch(e){console.log(e)}})();const i=_([]);(async()=>{try{const e=await A();i.value=e.recommend}catch(e){console.log(e)}})();const n=_([]);(async()=>{try{const e=await F();n.value=e.djRadios}catch(e){console.log(e)}})();const o=_(["我的播客","全部分类","排行榜","音乐百科","助眠解压","广播电台"]);return(e,r)=>{const u=d,_=g,T=k,C=b,D=x;return s(),a(u,null,{default:l((()=>[t(_,{class:"header","scroll-x":""},{default:l((()=>[t(u,{class:"headItem"},{default:l((()=>[(s(!0),f(p,null,h(o.value,(e=>(s(),a(u,{class:"tags",key:e},{default:l((()=>[m(w(e),1)])),_:2},1024)))),128))])),_:1})])),_:1}),t(D,{class:"swiperBox","next-margin":"20px","previous-margin":"20px"},{default:l((()=>[(s(!0),f(p,null,h(c.value,(e=>(s(),a(C,{class:"swiperItem",key:e.id},{default:l((()=>[t(u,{class:"swiCount"},{default:l((()=>[t(u,{class:"pad"},{default:l((()=>[t(T,{src:e.picUrl,mode:"heightFix",class:""},null,8,["src"]),t(u,{class:"swiText"},{default:l((()=>[t(u,{class:"iteTitle"},{default:l((()=>[m(w(e.name),1)])),_:2},1024),t(u,{class:"play"},{default:l((()=>[m(w(e.playCount/1e4)+"万次播放",1)])),_:2},1024),t(u,{class:"count"},{default:l((()=>[m(w(e.copywriter),1)])),_:2},1024)])),_:2},1024),v("i",{class:"iconfont icon-bofang"})])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),t(u,{class:"exclusive"},{default:l((()=>[t(u,{class:"excTitle"},{default:l((()=>[t(u,null,{default:l((()=>[m("为你推荐专属播客")])),_:1}),t(u,{class:"like"},{default:l((()=>[m("兴趣定制")])),_:1})])),_:1}),t(u,{class:"excItem"},{default:l((()=>[(s(!0),f(p,null,h(i.value,(e=>(s(),a(u,{key:e.id,class:"picitem",onClick:s=>{return a=e.id,console.log(a),void y({url:`/pages/detail/detail?id=${a}`});var a}},{default:l((()=>[t(T,{src:e.picUrl,mode:"widthFix"},null,8,["src"]),t(u,{class:"picText"},{default:l((()=>[m(w(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),t(u,{class:"constant"},{default:l((()=>[t(u,null,{default:l((()=>[m("你常听的创作翻唱")])),_:1}),t(D,{class:"contSwiper","display-multiple-items":"3"},{default:l((()=>[(s(!0),f(p,null,h(n.value,(e=>(s(),a(C,{key:e.id},{default:l((()=>[t(u,null,{default:l((()=>[t(T,{src:e.picUrl,mode:"widthFix"},null,8,["src"]),t(u,{class:"picText"},{default:l((()=>[m(w(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-73ccb852"]]),R=j(u({__name:"DiscoverSwiper",setup(e){const c=_([]);return B().then((e=>{c.value=e.banners})),(e,i)=>{const n=k,o=b,r=x,u=d;return s(),a(u,{class:"discover-music-swiper-wrap"},{default:l((()=>[t(r,{class:"swiper","indicator-dots":"","indicator-color":"#859c96","indicator-active-color":"#ffffff",autoplay:"",circular:""},{default:l((()=>[(s(!0),f(p,null,h(c.value,(e=>(s(),a(o,{class:"swiper-item",key:e.targetId},{default:l((()=>[t(n,{mode:"widthFix",src:e.imageUrl},null,8,["src"])])),_:2},1024)))),128))])),_:1})])),_:1})}}}),[["__scopeId","data-v-e2a72acb"]]),$=j(u({__name:"SongList",setup(c){const i=_([]);E().then((e=>{i.value=e.result}));const n=e=>{let s;return s=e>=1e4?(e/1e4).toFixed(1)+"万":e>=1e3?(e/1e3).toFixed(0)+"千":e,s};return(c,o)=>{const r=d,u=T,_=k,y=e("scroll_view");return s(),a(r,{class:"song_list_wrap"},{default:l((()=>[t(r,{class:"title"},{default:l((()=>[t(r,{class:"h1"},{default:l((()=>[m(" 甄选歌单 ")])),_:1})])),_:1}),t(r,{class:"song_scroll_view_wrap"},{default:l((()=>[t(y,{class:"song_scroll_view",scroll_x:""},{default:l((()=>[t(r,{class:"items"},{default:l((()=>[(s(!0),f(p,null,h(i.value,(e=>(s(),a(r,{class:"song_scroll_view_item",id:"item.id",key:e.id},{default:l((()=>[t(r,{class:"headphones-icon"},{default:l((()=>[v("i",{class:"iconfont icon-24gf-headphones"}),t(u,null,{default:l((()=>[m(w(n(e.playCount)),1)])),_:2},1024)])),_:2},1024),t(_,{src:e.picUrl},null,8,["src"]),t(r,{class:"bofang-icon"},{default:l((()=>[v("i",{class:"iconfont icon-bofang"})])),_:1}),t(r,{class:"music_list_desc"},{default:l((()=>[t(u,{class:"text-desc"},{default:l((()=>[m(w(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),t(r,{class:"uni-common-pb"})])),_:1})}}}),[["__scopeId","data-v-ff3751ca"]]),W=u({__name:"Music",setup:e=>(e,a)=>(s(),f(p,null,[t(R),t($)],64))}),q=j(u({__name:"discover",setup(e){const i=_(),n=_(0),o=_(["音乐","播客","听书"]),u=()=>{i.value.open()},k=()=>{y({url:"/pages/search/search"})};return(e,_)=>{const y=d,b=g,x=C(D("uni-drawer"),L);return s(),a(y,{class:"box"},{default:l((()=>[t(y,{class:"header"},{default:l((()=>[v("i",{class:"iconfont icon-gengduo1",onClick:u}),t(y,{class:"tab"},{default:l((()=>[(s(!0),f(p,null,h(o.value,((e,t)=>(s(),a(y,{key:e,class:c({active:t===n.value}),onClick:e=>n.value=t},{default:l((()=>[m(w(e),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),v("i",{class:"iconfont icon-sousuo",onClick:k})])),_:1}),t(b,{"scroll-y":"",class:"scroll"},{default:l((()=>[(s(),f(p,null,h(3,((e,c)=>t(y,{class:"content",key:e},{default:l((()=>[S(t(y,null,{default:l((()=>[0===c?(s(),a(y,{key:0},{default:l((()=>[t(W)])),_:1})):1===c?(s(),a(y,{key:1},{default:l((()=>[t(M)])),_:1})):2===c?(s(),a(y,{key:2},{default:l((()=>[m(w(e),1)])),_:2},1024)):r("",!0)])),_:2},1536),[[I,n.value===c]])])),_:2},1024))),64))])),_:1}),t(x,{ref_key:"showLeft",ref:i,mode:"left",width:320},null,512)])),_:1})}}}),[["__scopeId","data-v-aa50790d"]]);export{q as default};
