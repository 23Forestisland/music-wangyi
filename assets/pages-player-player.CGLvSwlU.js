import{d as a,r as l,ae as s,a3 as e,a4 as n,o as t,c as o,w as c,i as u,e as i,k as r,Z as d,u as f,t as v,Y as p,l as _,p as m}from"./index-DlNOth4X.js";import{u as y,b as g,c as x}from"./index.upOGJcHL.js";import{_ as h}from"./plugin-vueexport-helper.BCo6x5W8.js";const b=h(a({__name:"player",setup(a){const h=y(),b=l(),j=l(),k=l([]),C=l(),w=l(0);s((a=>{b.value={id:a.id,albumId:a.albumId,name:a.name,art:a.art}}));const I=()=>{h.innerAudioContext&&(!0===h.play?(h.innerAudioContext.play(),h.scroll=!1,h.play=!1):(h.innerAudioContext.pause(),h.scroll=!0,h.play=!0))},A=()=>{0!==w.value&&(w.value-=1)},P=()=>{w.value<k.value.length&&(w.value+=1)};return e((()=>k.value[w.value])),n((()=>h.scroll),(()=>{h.scroll?C.value=-30:C.value=0})),n((()=>{var a;return null==(a=b.value)?void 0:a.id}),(()=>{(async()=>{var a;try{const l=await g(null==(a=b.value)?void 0:a.id);k.value=l.data,h.memo=k.value[w.value].url}catch(l){console.log(l)}})(),(async()=>{var a;try{const l=await x(null==(a=b.value)?void 0:a.albumId);j.value=l.album.blurPicUrl}catch(l){console.log(l)}})()})),(a,l)=>{const s=_,e=u,n=m;return t(),o(e,{class:"player"},{default:c((()=>[i(s,{src:j.value},null,8,["src"]),i(e,{class:"subject"},{default:c((()=>[i(e,{class:"playHead"},{default:c((()=>[i(e,{class:"iconfont icon-xiajiantou"}),i(e,{class:"title"},{default:c((()=>[r("热门推荐")])),_:1}),i(e,{class:"share iconfont icon-fenxiang"})])),_:1}),i(e,{class:"record"},{default:c((()=>[i(e,{class:"circle",style:d({transform:`rotate(${f(h).rot}deg)`})},{default:c((()=>[i(e,{class:"light"},{default:c((()=>[i(e,{class:"center"},{default:c((()=>[i(s,{src:j.value,mode:"widthFix"},null,8,["src"])])),_:1})])),_:1})])),_:1},8,["style"]),i(e,{class:"rod",style:d({transform:`translate(-50%) rotate(${C.value}deg)`})},{default:c((()=>[i(s,{src:"/music-wangyi/assets/playpic4-DMMuLfPo.png"})])),_:1},8,["style"])])),_:1}),i(e,{class:"player-item"},{default:c((()=>[i(e,{class:"item-head"},{default:c((()=>[i(e,{class:"text-info"},{default:c((()=>[i(e,null,{default:c((()=>{var a;return[r(v(null==(a=b.value)?void 0:a.name),1)]})),_:1}),i(e,null,{default:c((()=>{var a;return[r(v(null==(a=b.value)?void 0:a.art),1),i(n,{class:"iconfont icon-youjiantou"})]})),_:1})])),_:1}),i(e,{class:"like iconfont icon-aixin_line"}),i(e,{class:"comments iconfont icon-pinglun-"})])),_:1}),i(e,{class:"pl-progress"},{default:c((()=>[i(e,{class:"line"},{default:c((()=>[i(e,{class:"dot",style:d({left:f(h).dotleft})},null,8,["style"])])),_:1}),i(e,{class:"prsinfo"},{default:c((()=>[i(e,null,{default:c((()=>[r(v(f(h).curTm),1)])),_:1}),i(e,null,{default:c((()=>[r("极高")])),_:1}),i(e,null,{default:c((()=>[r(v(f(h).totalTime),1)])),_:1})])),_:1}),i(e,{class:"control"},{default:c((()=>[i(e,{class:"iconfont icon-shunxubofang"}),i(e,{class:"cen-ctrl"},{default:c((()=>[i(e,{class:"iconfont icon-shangyishou1",onClick:A}),i(e,{class:p(["play-stop iconfont",[f(h).scroll?"icon-bofang":"icon-zanting1"]]),onClick:I},null,8,["class"]),i(e,{class:"iconfont icon-xiayishou",onClick:P})])),_:1}),i(e,{class:"iconfont icon-bofangliebiao1"})])),_:1}),i(e,{class:"share"},{default:c((()=>[i(e,{class:"iconfont icon-Pickup-3"}),i(e,{class:"iconfont icon-xiazai"}),i(e,{class:"iconfont icon-gengduo"})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-9621a989"]]);export{b as default};
