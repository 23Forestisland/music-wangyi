import{d as a,o as l,c as s,w as e,h as t,j as n,F as u,i,e as o,k as c,t as d,g as r,n as f,l as _,r as m,ae as v,a as p,b as g,f as y,af as k,q as x,Y as h}from"./index-DlNOth4X.js";import{_ as b}from"./uni-load-more.D6YIxeMy.js";import{_ as j}from"./uni-badge.oqAfI25Y.js";import{f as I,h as w}from"./index.B9YSTJjV.js";import{_ as C}from"./plugin-vueexport-helper.BCo6x5W8.js";/* empty css                                                          */const T=C(a({__name:"AudioList",props:{list:{}},setup(a){const m=a;return(a,v)=>{const p=_,g=i;return l(),s(g,{class:"list"},{default:e((()=>[(l(!0),t(u,null,n(m.list,(a=>(l(),s(g,{class:"listItem",onClick:l=>{return s=a.id,e=a.al.id,t=a.name,n=a.ar.map((a=>a.name)),void f({url:`/pages/player/player?id=${s}&albumId=${e}&name=${t}&art=${n}`});var s,e,t,n}},{default:e((()=>[o(p,{src:a.al.picUrl,mode:"widthFix"},null,8,["src"]),o(g,{class:"text"},{default:e((()=>[o(g,{class:"textItem"},{default:e((()=>[c(d(a.name),1)])),_:2},1024),o(g,{class:"play"},{default:e((()=>[c("内容")])),_:1})])),_:2},1024),r("i",{class:"iconfont icon-gengduoxiao"})])),_:2},1032,["onClick"])))),256))])),_:1})}}}),[["__scopeId","data-v-7f4d7a8c"]]),F=a({__name:"Recommend",setup:a=>(a,l)=>" 推荐列表 "}),$=C(a({__name:"Review",props:{list:{}},setup(a){const f=a;return(a,m)=>{const v=_,p=i;return l(),s(p,{class:"list"},{default:e((()=>[(l(!0),t(u,null,n(f.list,(a=>(l(),s(p,{class:"listItem",key:a.commentId},{default:e((()=>[o(p,{class:"user"},{default:e((()=>[o(p,{class:"img"},{default:e((()=>[o(v,{src:a.user.avatarUrl,mode:"widthFix"},null,8,["src"])])),_:2},1024),o(p,{class:"username"},{default:e((()=>[o(p,{class:"name"},{default:e((()=>[c(d(a.user.nickname),1)])),_:2},1024),o(p,{class:"time"},{default:e((()=>[c(d(a.timeStr),1)])),_:2},1024)])),_:2},1024),r("i",{class:"iconfont icon-dianzan"})])),_:2},1024),o(p,{class:"content"},{default:e((()=>[o(p,{class:"title"},{default:e((()=>[c(d(a.content),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})}}}),[["__scopeId","data-v-23578717"]]),U=C(a({__name:"detail",setup(a){let C=m(0);v((a=>{C.value=Number(a.id),A(),D()}));const U=m(),z=m(0),R=m([]),q=m(!1),A=async()=>{try{q.value=!0;const a=await I(C.value);U.value=a.playlist,z.value=a.playlist.playCount/1e4}catch(a){console.log(a)}finally{q.value=!1}},B=m(0),D=async()=>{try{q.value=!0;const a=await w(C.value);R.value=a.comments,console.log(a)}catch(a){console.log(a)}finally{q.value=!1}},L=()=>{k({delta:1,animationType:"pop-out",animationDuration:200})},N=()=>{f({url:"/pages/search/search"})},S=m(["声音","评论","推荐"]);return(a,f)=>{const m=p(g("uni-load-more"),b),v=i,k=_,I=p(g("uni-badge"),j),w=x;return l(),s(v,{class:"box"},{default:e((()=>[q.value?(l(),s(v,{key:0,class:"loading"},{default:e((()=>[o(m,{status:"loading",iconType:"circle",color:"#fff"})])),_:1})):y("",!0),o(v,{class:"bg"},{default:e((()=>[o(v,{class:"header"},{default:e((()=>[r("i",{class:"iconfont icon-fanhui",onClick:L}),r("i",{class:"iconfont icon-sousuo",onClick:N}),r("i",{class:"iconfont icon-gengduoxiao"})])),_:1}),o(v,{class:"img"},{default:e((()=>[o(v,{class:"imgBox"},{default:e((()=>{var a;return[o(k,{src:null==(a=U.value)?void 0:a.coverImgUrl,mode:"widthFix"},null,8,["src"])]})),_:1}),o(v,{class:"imgText"},{default:e((()=>[o(v,{class:"imgTitle"},{default:e((()=>{var a;return[c(d(null==(a=U.value)?void 0:a.name),1)]})),_:1}),o(v,null,{default:e((()=>{var a;return[c(d(null==(a=U.value)?void 0:a.subscribers[0].nickname),1),r("i",{class:"iconfont icon-jiantou"})]})),_:1}),o(v,{class:"tags"},{default:e((()=>{var a,i;return[(null==(a=U.value)?void 0:a.score)?(l(),s(v,{key:0,class:"mark"},{default:e((()=>{var a;return[r("i",{class:"iconfont icon-shoucang"}),c(" "+d(null==(a=U.value)?void 0:a.score)+" | 高分必听 ",1),r("i",{class:"iconfont icon-jiantou"})]})),_:1})):y("",!0),(l(!0),t(u,null,n(null==(i=U.value)?void 0:i.tags,(a=>(l(),s(v,{class:"tag",key:a},{default:e((()=>[c(d(a),1)])),_:2},1024)))),128))]})),_:1})])),_:1})])),_:1}),o(v,{class:"button"},{default:e((()=>[o(v,{class:"collect"},{default:e((()=>[r("i",{class:"iconfont icon-folder-5-fill"}),c(d(z.value.toFixed(1))+"万收藏",1)])),_:1}),o(v,{class:"latest"},{default:e((()=>[r("i",{class:"iconfont icon-bofang"}),c("最新单集")])),_:1})])),_:1})])),_:1}),o(w,{class:"content"},{default:e((()=>[o(v,{class:"navs"},{default:e((()=>[o(v,{class:"navTxt"},{default:e((()=>[(l(!0),t(u,null,n(S.value,((a,t)=>(l(),s(I,{class:"uni-badge-left-margin",text:"99+",absolute:"rightTop",size:"small",type:"infor",inverted:!0,key:a},{default:e((()=>[o(v,{class:h({active:B.value===t}),onClick:a=>B.value=t},{default:e((()=>[c(d(a),1)])),_:2},1032,["class","onClick"])])),_:2},1024)))),128))])),_:1}),o(v,{class:"icon"},{default:e((()=>[r("i",{class:"iconfont icon-paixu-jiangxu"}),r("i",{class:"iconfont icon-duigou"})])),_:1})])),_:1}),o(w,{"scroll-y":"",class:"count"},{default:e((()=>[o(v,{class:"countItem"},{default:e((()=>[0===B.value?(l(),s(v,{key:0},{default:e((()=>{var a;return[o(T,{list:null==(a=U.value)?void 0:a.tracks},null,8,["list"])]})),_:1})):1===B.value?(l(),s(v,{key:1},{default:e((()=>[o($,{list:R.value},null,8,["list"])])),_:1})):2===B.value?(l(),s(v,{key:2},{default:e((()=>[o(F)])),_:1})):y("",!0)])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-d272a840"]]);export{U as default};
