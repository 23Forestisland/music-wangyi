import{o as e,b as l,w as s,g as a,f as t,n as o,x as n,C as c,D as i,y as u,z as d,e as f,m as r,t as _,i as h,j as p,I as m,E as y,k as g,d as v,G as b,A as k,B as x,c as w,l as S,F as C,v as V,H as z,J as $,u as I,s as T,K as B}from"./index-6-guE5ck.js";import{_ as F}from"./_plugin-vue_export-helper.BCo6x5W8.js";const L=[{font_class:"arrow-down",unicode:""},{font_class:"arrow-left",unicode:""},{font_class:"arrow-right",unicode:""},{font_class:"arrow-up",unicode:""},{font_class:"auth",unicode:""},{font_class:"auth-filled",unicode:""},{font_class:"back",unicode:""},{font_class:"bars",unicode:""},{font_class:"calendar",unicode:""},{font_class:"calendar-filled",unicode:""},{font_class:"camera",unicode:""},{font_class:"camera-filled",unicode:""},{font_class:"cart",unicode:""},{font_class:"cart-filled",unicode:""},{font_class:"chat",unicode:""},{font_class:"chat-filled",unicode:""},{font_class:"chatboxes",unicode:""},{font_class:"chatboxes-filled",unicode:""},{font_class:"chatbubble",unicode:""},{font_class:"chatbubble-filled",unicode:""},{font_class:"checkbox",unicode:""},{font_class:"checkbox-filled",unicode:""},{font_class:"checkmarkempty",unicode:""},{font_class:"circle",unicode:""},{font_class:"circle-filled",unicode:""},{font_class:"clear",unicode:""},{font_class:"close",unicode:""},{font_class:"closeempty",unicode:""},{font_class:"cloud-download",unicode:""},{font_class:"cloud-download-filled",unicode:""},{font_class:"cloud-upload",unicode:""},{font_class:"cloud-upload-filled",unicode:""},{font_class:"color",unicode:""},{font_class:"color-filled",unicode:""},{font_class:"compose",unicode:""},{font_class:"contact",unicode:""},{font_class:"contact-filled",unicode:""},{font_class:"down",unicode:""},{font_class:"bottom",unicode:""},{font_class:"download",unicode:""},{font_class:"download-filled",unicode:""},{font_class:"email",unicode:""},{font_class:"email-filled",unicode:""},{font_class:"eye",unicode:""},{font_class:"eye-filled",unicode:""},{font_class:"eye-slash",unicode:""},{font_class:"eye-slash-filled",unicode:""},{font_class:"fire",unicode:""},{font_class:"fire-filled",unicode:""},{font_class:"flag",unicode:""},{font_class:"flag-filled",unicode:""},{font_class:"folder-add",unicode:""},{font_class:"folder-add-filled",unicode:""},{font_class:"font",unicode:""},{font_class:"forward",unicode:""},{font_class:"gear",unicode:""},{font_class:"gear-filled",unicode:""},{font_class:"gift",unicode:""},{font_class:"gift-filled",unicode:""},{font_class:"hand-down",unicode:""},{font_class:"hand-down-filled",unicode:""},{font_class:"hand-up",unicode:""},{font_class:"hand-up-filled",unicode:""},{font_class:"headphones",unicode:""},{font_class:"heart",unicode:""},{font_class:"heart-filled",unicode:""},{font_class:"help",unicode:""},{font_class:"help-filled",unicode:""},{font_class:"home",unicode:""},{font_class:"home-filled",unicode:""},{font_class:"image",unicode:""},{font_class:"image-filled",unicode:""},{font_class:"images",unicode:""},{font_class:"images-filled",unicode:""},{font_class:"info",unicode:""},{font_class:"info-filled",unicode:""},{font_class:"left",unicode:""},{font_class:"link",unicode:""},{font_class:"list",unicode:""},{font_class:"location",unicode:""},{font_class:"location-filled",unicode:""},{font_class:"locked",unicode:""},{font_class:"locked-filled",unicode:""},{font_class:"loop",unicode:""},{font_class:"mail-open",unicode:""},{font_class:"mail-open-filled",unicode:""},{font_class:"map",unicode:""},{font_class:"map-filled",unicode:""},{font_class:"map-pin",unicode:""},{font_class:"map-pin-ellipse",unicode:""},{font_class:"medal",unicode:""},{font_class:"medal-filled",unicode:""},{font_class:"mic",unicode:""},{font_class:"mic-filled",unicode:""},{font_class:"micoff",unicode:""},{font_class:"micoff-filled",unicode:""},{font_class:"minus",unicode:""},{font_class:"minus-filled",unicode:""},{font_class:"more",unicode:""},{font_class:"more-filled",unicode:""},{font_class:"navigate",unicode:""},{font_class:"navigate-filled",unicode:""},{font_class:"notification",unicode:""},{font_class:"notification-filled",unicode:""},{font_class:"paperclip",unicode:""},{font_class:"paperplane",unicode:""},{font_class:"paperplane-filled",unicode:""},{font_class:"person",unicode:""},{font_class:"person-filled",unicode:""},{font_class:"personadd",unicode:""},{font_class:"personadd-filled",unicode:""},{font_class:"personadd-filled-copy",unicode:""},{font_class:"phone",unicode:""},{font_class:"phone-filled",unicode:""},{font_class:"plus",unicode:""},{font_class:"plus-filled",unicode:""},{font_class:"plusempty",unicode:""},{font_class:"pulldown",unicode:""},{font_class:"pyq",unicode:""},{font_class:"qq",unicode:""},{font_class:"redo",unicode:""},{font_class:"redo-filled",unicode:""},{font_class:"refresh",unicode:""},{font_class:"refresh-filled",unicode:""},{font_class:"refreshempty",unicode:""},{font_class:"reload",unicode:""},{font_class:"right",unicode:""},{font_class:"scan",unicode:""},{font_class:"search",unicode:""},{font_class:"settings",unicode:""},{font_class:"settings-filled",unicode:""},{font_class:"shop",unicode:""},{font_class:"shop-filled",unicode:""},{font_class:"smallcircle",unicode:""},{font_class:"smallcircle-filled",unicode:""},{font_class:"sound",unicode:""},{font_class:"sound-filled",unicode:""},{font_class:"spinner-cycle",unicode:""},{font_class:"staff",unicode:""},{font_class:"staff-filled",unicode:""},{font_class:"star",unicode:""},{font_class:"star-filled",unicode:""},{font_class:"starhalf",unicode:""},{font_class:"trash",unicode:""},{font_class:"trash-filled",unicode:""},{font_class:"tune",unicode:""},{font_class:"tune-filled",unicode:""},{font_class:"undo",unicode:""},{font_class:"undo-filled",unicode:""},{font_class:"up",unicode:""},{font_class:"top",unicode:""},{font_class:"upload",unicode:""},{font_class:"upload-filled",unicode:""},{font_class:"videocam",unicode:""},{font_class:"videocam-filled",unicode:""},{font_class:"vip",unicode:""},{font_class:"vip-filled",unicode:""},{font_class:"wallet",unicode:""},{font_class:"wallet-filled",unicode:""},{font_class:"weibo",unicode:""},{font_class:"weixin",unicode:""}];const j=F({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""},fontFamily:{type:String,default:""}},data:()=>({icons:L}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?e.unicode:""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e},styleObj(){return""!==this.fontFamily?`color: ${this.color}; font-size: ${this.iconSize}; font-family: ${this.fontFamily};`:`color: ${this.color}; font-size: ${this.iconSize};`}},methods:{_onClick(){this.$emit("click")}}},[["render",function(c,i,u,d,f,r){const _=n;return e(),l(_,{style:t(r.styleObj),class:o(["uni-icons",["uniui-"+u.type,u.customPrefix,u.customPrefix?u.type:""]]),onClick:r._onClick},{default:s((()=>[a(c.$slots,"default",{},void 0,!0)])),_:3},8,["style","class","onClick"])}],["__scopeId","data-v-dae1b464"]]),N={en:{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"},"zh-Hans":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"请输入搜索内容"},"zh-Hant":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"請輸入搜索內容"}},{t:O}=c(N);const M=F({name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:""},bgColor:{type:String,default:"#F8F8F8"},textColor:{type:String,default:"#000000"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},data:()=>({show:!1,showSync:!1,searchVal:""}),computed:{cancelTextI18n(){return this.cancelText||O("uni-search-bar.cancel")},placeholderText(){return this.placeholder||O("uni-search-bar.placeholder")}},watch:{modelValue:{immediate:!0,handler(e){this.searchVal=e,e&&(this.show=!0)}},focus:{immediate:!0,handler(e){if(e){if(this.readonly)return;this.show=!0,this.$nextTick((()=>{this.showSync=!0}))}}},searchVal(e,l){this.$emit("input",e),this.$emit("update:modelValue",e)}},methods:{searchClick(){this.readonly||this.show||(this.show=!0,this.$nextTick((()=>{this.showSync=!0})))},clear(){this.searchVal="",this.$nextTick((()=>{this.$emit("clear",{value:""})}))},cancel(){this.readonly||(this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,i())},confirm(){i(),this.$emit("confirm",{value:this.searchVal})},blur(){i(),this.$emit("blur",{value:this.searchVal})},emitFocus(e){this.$emit("focus",e.detail)}}},[["render",function(o,c,i,y,g,v){const b=u(d("uni-icons"),j),k=p,x=m,w=n;return e(),l(k,{class:"uni-searchbar"},{default:s((()=>[f(k,{style:t({borderRadius:i.radius+"px",backgroundColor:i.bgColor}),class:"uni-searchbar__box",onClick:v.searchClick},{default:s((()=>[f(k,{class:"uni-searchbar__box-icon-search"},{default:s((()=>[a(o.$slots,"searchIcon",{},(()=>[f(b,{color:"#c0c4cc",size:"18",type:"search"})]),!0)])),_:3}),g.show||g.searchVal?(e(),l(x,{key:0,focus:g.showSync,disabled:i.readonly,placeholder:v.placeholderText,maxlength:i.maxlength,class:"uni-searchbar__box-search-input","confirm-type":"search",type:"text",modelValue:g.searchVal,"onUpdate:modelValue":c[0]||(c[0]=e=>g.searchVal=e),style:t({color:i.textColor}),onConfirm:v.confirm,onBlur:v.blur,onFocus:v.emitFocus},null,8,["focus","disabled","placeholder","maxlength","modelValue","style","onConfirm","onBlur","onFocus"])):(e(),l(w,{key:1,class:"uni-searchbar__text-placeholder"},{default:s((()=>[r(_(i.placeholder),1)])),_:1})),g.show&&("always"===i.clearButton||"auto"===i.clearButton&&""!==g.searchVal)&&!i.readonly?(e(),l(k,{key:2,class:"uni-searchbar__box-icon-clear",onClick:v.clear},{default:s((()=>[a(o.$slots,"clearIcon",{},(()=>[f(b,{color:"#c0c4cc",size:"20",type:"clear"})]),!0)])),_:3},8,["onClick"])):h("",!0)])),_:3},8,["style","onClick"]),"always"===i.cancelButton||g.show&&"auto"===i.cancelButton?(e(),l(w,{key:0,onClick:v.cancel,class:"uni-searchbar__cancel"},{default:s((()=>[r(_(v.cancelTextI18n),1)])),_:1},8,["onClick"])):h("",!0)])),_:3})}],["__scopeId","data-v-206a2f37"]]);const U=F({name:"UniSection",emits:["click"],props:{type:{type:String,default:""},title:{type:String,required:!0,default:""},titleFontSize:{type:String,default:"14px"},titleColor:{type:String,default:"#333"},subTitle:{type:String,default:""},subTitleFontSize:{type:String,default:"12px"},subTitleColor:{type:String,default:"#999"},padding:{type:[Boolean,String],default:!1}},computed:{_padding(){return"string"==typeof this.padding?this.padding:this.padding?"10px":""}},watch:{title(e){uni.report&&""!==e&&uni.report("title",e)}},methods:{onClick(){this.$emit("click")}}},[["render",function(c,i,u,d,m,y){const g=p,v=n;return e(),l(g,{class:"uni-section"},{default:s((()=>[f(g,{class:"uni-section-header",onClick:y.onClick},{default:s((()=>[u.type?(e(),l(g,{key:0,class:o(["uni-section-header__decoration",u.type])},null,8,["class"])):a(c.$slots,"decoration",{key:1},void 0,!0),f(g,{class:"uni-section-header__content"},{default:s((()=>[f(v,{style:t({"font-size":u.titleFontSize,color:u.titleColor}),class:o(["uni-section__content-title",{distraction:!u.subTitle}])},{default:s((()=>[r(_(u.title),1)])),_:1},8,["style","class"]),u.subTitle?(e(),l(v,{key:0,style:t({"font-size":u.subTitleFontSize,color:u.subTitleColor}),class:"uni-section-header__content-sub"},{default:s((()=>[r(_(u.subTitle),1)])),_:1},8,["style"])):h("",!0)])),_:1}),f(g,{class:"uni-section-header__slot-right"},{default:s((()=>[a(c.$slots,"right",{},void 0,!0)])),_:3})])),_:3},8,["onClick"]),f(g,{class:"uni-section-content",style:t({padding:y._padding})},{default:s((()=>[a(c.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3})}],["__scopeId","data-v-b442413a"]]),q=y("indexr",(()=>{let e=g([]);return e.value=localStorage.getItem("historical")?JSON.parse(localStorage.getItem("historical")):[],{historical:e}})),J=F(v({__name:"historical",emits:["changeVal"],setup(a,{emit:t}){const o=g(!1),n=q(),c=g([]),i=()=>{localStorage.removeItem("historical"),n.historical=[]};return b((()=>n.historical.length),(()=>{c.value=n.historical,c.value=c.value.reverse(),console.log(c.value)}),{immediate:!0}),(a,t)=>{const n=u(d("uni-section"),U),h=p;return e(),l(h,{class:"historical"},{default:s((()=>[f(h,{class:"tit"},{default:s((()=>[f(n,{title:"搜索历史",type:"line"}),f(h,{class:"iconfont icon-shanchu1",onClick:i})])),_:1}),k(f(h,null,{default:s((()=>[k(f(h,{class:"content1"},{default:s((()=>[(e(!0),w(C,null,S(c.value.slice(0,2),(a=>(e(),l(h,{class:"item-con"},{default:s((()=>[r(_(a),1)])),_:2},1024)))),256)),f(h,{class:"open iconfont icon-xiajiantou",onClick:t[0]||(t[0]=e=>o.value=!o.value)})])),_:1},512),[[x,!o.value]]),k(f(h,{class:"content2"},{default:s((()=>[(e(!0),w(C,null,S(c.value,(a=>(e(),l(h,{class:"item-con"},{default:s((()=>[r(_(a),1)])),_:2},1024)))),256)),f(h,{class:"open iconfont icon-xiangshangjiantou1",onClick:t[1]||(t[1]=e=>o.value=!o.value)})])),_:1},512),[[x,o.value]])])),_:1},512),[[x,c.value.length>0]])])),_:1})}}}),[["__scopeId","data-v-0ffa1d8e"]]),P=({url:e,data:l})=>new Promise(((s,a)=>{V({url:e,data:l,success:e=>{s(e.data)},fail:a})})),H=F(v({__name:"hotList",emits:["changeVal"],setup(a,{emit:t}){const o=g([]);let c=g("60px"),i=g("0"),u=g([]),d=[];const h=t,m=async()=>{try{const e=await P({url:"https://zyxcl.xyz/music/api/toplist"}),l=Math.floor(Math.random()*(e.list.length-5));o.value=e.list.slice(l,l+6),v()}catch(e){console.log(e)}},y=async e=>{try{const l=await(e=>P({url:"https://zyxcl.xyz/music/api/playlist/detail",data:{id:e}}))(e);d.push(l.playlist.tracks.slice(0,20))}catch(l){console.log(l)}},v=async()=>{for(const e of o.value)await y(e.id);u.value=d,console.log(u.value)};z((()=>{m()}));const b=e=>{e.detail.current<o.value.length-1?(c.value="60px",i.value="0"):(c.value="0",i.value="60px")};return(a,t)=>{const d=n,m=p,y=T,g=I;return e(),l(m,{class:"hotList"},{default:s((()=>[f(g,{class:"swiper","next-margin":$(c),"previous-margin":$(i),onChange:b},{default:s((()=>[(e(!0),w(C,null,S(o.value,((a,t)=>(e(),l(y,{key:a.id,class:"swp"},{default:s((()=>[f(m,{class:"swiper-item"},{default:s((()=>[f(m,{class:"tit"},{default:s((()=>[f(d,{class:"tit-name"},{default:s((()=>[r(_(a.name),1)])),_:2},1024),f(d,{class:"iconfont icon-bofang"},{default:s((()=>[r("播放")])),_:1})])),_:2},1024),f(m,{class:"dtlList"},{default:s((()=>[(e(!0),w(C,null,S($(u)[t],((a,t)=>(e(),l(m,{class:"ls-item",key:a.name,onClick:e=>h("changeVal",a.name)},{default:s((()=>[f(m,{class:"numb"},{default:s((()=>[r(_(t+1+"."),1)])),_:2},1024),r(_(a.name),1)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["next-margin","previous-margin"])])),_:1})}}}),[["__scopeId","data-v-d778508d"]]),R=F(v({__name:"guessLike",emits:["changeVal"],setup(a,{emit:t}){const o=t,n=g(),c=async()=>{try{const e=await P({url:"https://zyxcl.xyz/music/api/recommend/songs"}),l=Math.floor(Math.random()*e.data.dailySongs.length);n.value=e.data.dailySongs.slice(l)}catch(e){console.log(e)}};return B((()=>{c()})),(a,t)=>{const i=u(d("uni-section"),U),h=p;return e(),l(h,{class:"guessLike"},{default:s((()=>[f(h,{class:"tit"},{default:s((()=>[f(i,{title:"猜你喜欢",type:"line"}),f(h,{class:"iconfont icon-shuaxin",onClick:c})])),_:1}),f(h,{class:"content"},{default:s((()=>[f(h,{class:"dateList"},{default:s((()=>[(e(!0),w(C,null,S(n.value,(a=>(e(),l(h,{class:"List-it",key:a.id,onClick:e=>o("changeVal",a.name)},{default:s((()=>[r(_(a.name),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-b57e82e8"]]),G=F(v({__name:"suggest",props:{list:{}},emits:["changeVal"],setup(a,{emit:t}){const o=a,n=t;return(a,t)=>{const c=p;return o.list?(e(),l(c,{key:0,class:"suggestList"},{default:s((()=>[(e(!0),w(C,null,S(o.list,(a=>(e(),l(c,{key:a.keyword,class:"lSitem",onClick:e=>n("changeVal",a.keyword)},{default:s((()=>[f(c,{class:"iconfont icon-sousuo"}),f(c,null,{default:s((()=>[r(_(a.keyword),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):h("",!0)}}}),[["__scopeId","data-v-b5ea50ed"]]),A=F(v({__name:"srhRes",props:{list:{}},setup(a){const t=a;return(a,o)=>{const n=p;return e(),l(n,{class:"srhRestList"},{default:s((()=>[(e(!0),w(C,null,S(t.list,(a=>(e(),l(n,{key:a.id,class:"item"},{default:s((()=>[f(n,{class:"left"},{default:s((()=>[f(n,{class:"name"},{default:s((()=>[r(_(a.name),1)])),_:2},1024),f(n,{class:"art"},{default:s((()=>[r(_(a.artists.map((e=>e.name)).join("/"))+" - "+_(a.album.name),1)])),_:2},1024)])),_:2},1024),f(n,{class:"right"},{default:s((()=>[f(n,{class:"play iconfont icon-bofang"}),f(n,{class:"menu iconfont icon-gengduo"})])),_:1})])),_:2},1024)))),128))])),_:1})}}}),[["__scopeId","data-v-fa39f676"]]),D=F(v({__name:"search",setup(l){const a=g(),t=g(0),o=g(!1),c=g(),i=g([]),_=g([]),h=q();let m;const y=async e=>{try{const s=await(l=e,P({url:"https://zyxcl.xyz/music/api/search/suggest",data:{keywords:l,type:"mobile"}}));console.log(s),_.value=s.result.allMatch}catch(s){console.log(s)}var l},v=async()=>{o.value=!0,c.value=!0,console.log("search 事件",a.value);const e=await(l=a.value,P({url:"https://zyxcl.xyz/music/api/search",data:{keywords:l}}));var l;i.value=e.result.songs,c.value=!1,(JSON.parse(localStorage.getItem("historical"))||[]).indexOf(a.value)<0&&(h.historical.push(a.value),localStorage.setItem("historical",JSON.stringify(h.historical)))},S=()=>{v()},V=e=>{a.value=e,v()};return b([a,o],(()=>{var e;a.value?(t.value=1,""===(e=a.value)||c.value||(console.log("input 事件"),m&&clearTimeout(m),m=setTimeout((()=>{y(e)}),500)),o.value&&(t.value=2)):(t.value=0,o.value=!1,i.value=[],_.value=[])})),(l,o)=>{const c=p,h=u(d("uni-search-bar"),M),m=n;return e(),w(C,null,[f(c,{class:"head"},{default:s((()=>[f(c,{class:"iconfont icon-houtui"}),f(c,{class:"search"},{default:s((()=>[f(h,{class:"uni-mt-10",radius:"5",placeholder:"请输入搜索内容",clearButton:"auto",cancelButton:"none",modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e),onConfirm:v},null,8,["modelValue"])])),_:1}),f(c,{onClick:S},{default:s((()=>[r("搜索")])),_:1})])),_:1}),k(f(c,{class:"initial"},{default:s((()=>[f(c,{class:"tabs"},{default:s((()=>[f(c,{class:"tab-item"},{default:s((()=>[f(m,{class:"iconfont icon-geshou"}),f(m,null,{default:s((()=>[r("歌手")])),_:1})])),_:1}),r(" | "),f(c,{class:"tab-item"},{default:s((()=>[f(m,{class:"iconfont icon-benshu"}),f(m,null,{default:s((()=>[r("曲风")])),_:1})])),_:1}),r(" | "),f(c,{class:"tab-item"},{default:s((()=>[f(m,{class:"iconfont icon-yinfuSVG-"}),f(m,null,{default:s((()=>[r("专区")])),_:1})])),_:1}),r(" | "),f(c,{class:"tab-item"},{default:s((()=>[f(m,{class:"iconfont icon-maikefeng"}),f(m,null,{default:s((()=>[r("识曲")])),_:1})])),_:1})])),_:1}),f(J,{onChangeVal:V}),f(R,{onChangeVal:V}),f(H,{onChangeVal:V})])),_:1},512),[[x,0===t.value]]),k(f(c,{class:"rel"},{default:s((()=>[f(G,{list:_.value,onChangeVal:V},null,8,["list"])])),_:1},512),[[x,1===t.value]]),k(f(c,{class:"rel"},{default:s((()=>[f(A,{list:i.value},null,8,["list"])])),_:1},512),[[x,2===t.value]])],64)}}}),[["__scopeId","data-v-090cfae5"]]);export{D as default};
