import{o as t,b as e,w as a,g as s,n as l,f as o,m as i,t as n,i as u,v as c,j as d,d as r,c as f,l as p,F as m,e as g,a as v,q as _,k as y,M as h,x as b,y as x,p as k,S}from"./index-_7gvRBKx.js";import{_ as j}from"./plugin-vueexport-helper.BCo6x5W8.js";import{c as w}from"./index.BF92D_ga.js";const N=j({name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:()=>[0,0]},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:()=>({})}},data:()=>({}),computed:{width(){return 8*String(this.text).length+12},classNames(){const{inverted:t,type:e,size:a,absolute:s}=this;return[t?"uni-badge--"+e+"-inverted":"","uni-badge--"+e,"uni-badge--"+a,s?"uni-badge--absolute":""].join(" ")},positionStyle(){if(!this.absolute)return{};let t=this.width/2,e=10;this.isDot&&(t=5,e=5);const a=`${-t+this.offset[0]}px`,s=`${-e+this.offset[1]}px`,l={rightTop:{right:a,top:s},rightBottom:{right:a,bottom:s},leftBottom:{left:a,bottom:s},leftTop:{left:a,top:s}},o=l[this.absolute];return o||l.rightTop},dotStyle(){return this.isDot?{width:"10px",minWidth:"0",height:"10px",padding:"0",borderRadius:"10px"}:{}},displayValue(){const{isDot:t,text:e,maxNum:a}=this;return t?"":Number(e)>a?`${a}+`:e}},methods:{onClick(){this.$emit("click")}}},[["render",function(r,f,p,m,g,v){const _=c,y=d;return t(),e(y,{class:"uni-badge--x"},{default:a((()=>[s(r.$slots,"default",{},void 0,!0),p.text?(t(),e(_,{key:0,class:l([v.classNames,"uni-badge"]),style:o([v.positionStyle,p.customStyle,v.dotStyle]),onClick:f[0]||(f[0]=t=>v.onClick())},{default:a((()=>[i(n(v.displayValue),1)])),_:1},8,["class","style"])):u("",!0)])),_:3})}],["__scopeId","data-v-0aa0ad6c"]]),C=j(r({__name:"AudioList",props:{list:{}},setup(s){const l=s;return(s,o)=>{const u=_,c=d;return t(),e(c,{class:"list"},{default:a((()=>[(t(!0),f(m,null,p(l.list,(s=>(t(),e(c,{class:"listItem"},{default:a((()=>[g(u,{src:s.al.picUrl,mode:"widthFix"},null,8,["src"]),g(c,{class:"text"},{default:a((()=>[g(c,{class:"textItem"},{default:a((()=>[i(n(s.name),1)])),_:2},1024),g(c,{class:"play"},{default:a((()=>[i("内容")])),_:1})])),_:2},1024),v("i",{class:"iconfont icon-gengduo"})])),_:2},1024)))),256))])),_:1})}}}),[["__scopeId","data-v-812c5234"]]),I=r({__name:"Recommend",setup:t=>(t,e)=>" 推荐列表 "}),T=r({__name:"Review",setup:t=>(t,e)=>" 评论列表 "}),z=j(r({__name:"detail",setup(s){let o=y(0);h((t=>{o.value=Number(t.id),console.log(o.value),j()}));const c=y(),r=y(0),j=async()=>{try{const t=await w(o.value);console.log(t),c.value=t.playlist,r.value=Math.floor(t.playlist.playCount/1e4)}catch(t){console.log(t)}},z=y(0),B=()=>{k({url:"/pages/search/search"})},$=y(["声音","评论","推荐"]);return(s,o)=>{const y=d,h=_,k=b(x("uni-badge"),N),j=S;return t(),e(y,{class:"box"},{default:a((()=>[g(y,{class:"bg"},{default:a((()=>[g(y,{class:"header"},{default:a((()=>[v("i",{class:"iconfont icon-fanhui"}),v("i",{class:"iconfont icon-sousuo",onClick:B}),v("i",{class:"iconfont icon-gengduo"})])),_:1}),g(y,{class:"img"},{default:a((()=>{var s;return[g(h,{src:null==(s=c.value)?void 0:s.coverImgUrl,mode:"widthFix"},null,8,["src"]),g(y,{class:"imgText"},{default:a((()=>[g(y,{class:"imgTitle"},{default:a((()=>{var t;return[i(n(null==(t=c.value)?void 0:t.name),1)]})),_:1}),g(y,null,{default:a((()=>{var t;return[i(n(null==(t=c.value)?void 0:t.subscribers[0].nickname),1),v("i",{class:"iconfont icon-jiantou"})]})),_:1}),g(y,{class:"tags"},{default:a((()=>{var s,l;return[(null==(s=c.value)?void 0:s.score)?(t(),e(y,{key:0,class:"mark"},{default:a((()=>{var t;return[v("i",{class:"iconfont icon-shoucang"}),i(" "+n(null==(t=c.value)?void 0:t.score)+" | 高分必听 ",1),v("i",{class:"iconfont icon-jiantou"})]})),_:1})):u("",!0),(t(!0),f(m,null,p(null==(l=c.value)?void 0:l.tags,(s=>(t(),e(y,{class:"tag",key:s},{default:a((()=>[i(n(s),1)])),_:2},1024)))),128))]})),_:1})])),_:1})]})),_:1}),g(y,{class:"button"},{default:a((()=>[g(y,{class:"collect"},{default:a((()=>[v("i",{class:"iconfont icon-folder-5-fill"}),i(n(r.value)+".0万收藏",1)])),_:1}),g(y,{class:"latest"},{default:a((()=>[v("i",{class:"iconfont icon-bofang"}),i("最新单集")])),_:1})])),_:1})])),_:1}),g(j,{class:"content"},{default:a((()=>[g(y,{class:"navs"},{default:a((()=>[g(y,{class:"navTxt"},{default:a((()=>[(t(!0),f(m,null,p($.value,((s,o)=>(t(),e(k,{class:"uni-badge-left-margin",text:"99+",absolute:"rightTop",size:"small",type:"infor",inverted:!0,key:s},{default:a((()=>[g(y,{class:l({active:z.value===o}),onClick:t=>z.value=o},{default:a((()=>[i(n(s),1)])),_:2},1032,["class","onClick"])])),_:2},1024)))),128))])),_:1}),g(y,{class:"icon"},{default:a((()=>[v("i",{class:"iconfont icon-paixu-jiangxu"}),v("i",{class:"iconfont icon-zhengpinbaozhang-duigou"})])),_:1})])),_:1}),g(j,{"scroll-y":"",class:"count"},{default:a((()=>[g(y,{class:"countItem"},{default:a((()=>[0===z.value?(t(),e(y,{key:0},{default:a((()=>{var t;return[g(C,{list:null==(t=c.value)?void 0:t.tracks},null,8,["list"])]})),_:1})):1===z.value?(t(),e(y,{key:1},{default:a((()=>[g(T)])),_:1})):2===z.value?(t(),e(y,{key:2},{default:a((()=>[g(I)])),_:1})):u("",!0)])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-1186d096"]]);export{z as default};
